{"version":3,"sources":["script/main.js"],"names":["window","onload","clamp","x","min","max","Math","isMobile","start","Date","getTime","onscroll","e","cards","Array","from","document","querySelectorAll","forEach","card","i","documentElement","clientHeight","target","scrollTop","offsetHeight","now","tmp","ajax","data","regex","createEle","getElementById","innerHTML","exec","textContent","resizeZ","scale","opacity","style","transform","zIndex","setTimeout","getElementsByTagName","onclick","searchAc","keyword","value","location","href","index","div","createElement","className","id","parseInt","random","list","getElementsByClassName","appendChild","url","cb","xmlhttp","XMLHttpRequest","ActiveXObject","onreadystatechange","readyState","status","responseText","open","send","clientWidth","width","c","height"],"mappings":"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","file":"main.0ab05bb7.js","sourceRoot":"..","sourcesContent":["window.onload = function () {\r\n    const clamp = (x, min, max) => Math.max(min, Math.min(x, max));\r\nisMobile()\r\n    let start = new Date().getTime()\r\n    window.onscroll = (e) => {\r\n        const cards = Array.from(document.querySelectorAll(\".card\"));\r\n        cards.forEach((card, i) => {\r\n            //节流\r\n            if (document.documentElement.clientHeight + e.target.documentElement.scrollTop >= document.documentElement.offsetHeight-600) {\r\n                if (new Date().getTime() > start + 1000 && now > 0) {\r\n                    let tmp = now + 1;\r\n                    now = -9999999999999;\r\n                    ajax(`https://amdog.github.io/page/${tmp}.html`, (data) => {\r\n                        if (!!data) {\r\n                            now = tmp\r\n                            let regex = /.*?<title>(.*?)<\\/title>.*?/\r\n                            createEle(tmp)\r\n                            let e = document.getElementById(`t${tmp}`)\r\n                            e.innerHTML = regex.exec(data)[0];\r\n                            e.innerHTML = e.textContent;\r\n                        }\r\n                    })\r\n                    start = new Date().getTime()\r\n                }\r\n            }\r\n            resizeZ(card,i,e)\r\n        });\r\n    }\r\n\r\n    function resizeZ(card,i,e){\r\n            const scale = clamp((400 + 300 * i - e.target.documentElement.scrollTop) / 300, 0, 1);\r\n            const opacity = clamp((400 + 300 * i - e.target.documentElement.scrollTop) / 300, 0, 1);\r\n            card.style.transform = `scale(${scale})`;\r\n            card.style.opacity = `${opacity}`;\r\n            card.style.zIndex = `${i}`\r\n    }\r\n\r\n\r\n    setTimeout(() => {\r\n        for (let i = 1; i <= 5; i++) {\r\n            ajax(`https://amdog.github.io/page/${i}.html`, (data) => {\r\n                if (!!data) {\r\n                    let regex = /.*?<title>(.*?)<\\/title>.*?/\r\n                    createEle(i)\r\n                    let e = document.getElementById(`t${i}`)\r\n                    e.innerHTML = regex.exec(data)[0];\r\n                    e.innerHTML = e.textContent\r\n                }\r\n            })\r\n        }\r\n    }, 500);\r\n}\r\n\r\nlet now = 5\r\n\r\ndocument.getElementsByTagName('input')[1].onclick=function searchAc() {\r\n    let keyword = document.getElementsByTagName('input')[0].value\r\n    window.location.href='https://github.com/amdog/amdog.github.io/search?q='+keyword\r\n}\r\n\r\n\r\nfunction createEle(index) {\r\n    let div = document.createElement('div')\r\n    div.className = 'card';\r\n    div.id = `c${index}`\r\n    div.innerHTML = `<div class=\"dsc\">\r\n    <img src=\"./img/date.svg\" alt=\"\">${parseInt(Math.random()*12%12)}-${parseInt(Math.random()*28%28)}\r\n    <img src=\"./img/eay.svg\" alt=\"\">${parseInt(Math.random()*1000)}\r\n</div>\r\n<div class=\"main\">\r\n    <div class=\"ifra\">\r\n        <iframe  scrolling='no' id='i${index}' src='https://amdog.github.io/page/${index}.html' frameborder=\"0\"></iframe>\r\n    </div>\r\n    <a href='https://amdog.github.io/page/${index}.html'> <div class=\"title\" id='t${index}'></div></a>\r\n</div>`\r\n    let list = document.getElementsByClassName('list')[0]\r\n    list.appendChild(div);\r\n    isMobile()\r\n}\r\n\r\nfunction ajax(url, cb) {\r\n    let xmlhttp;\r\n    if (window.XMLHttpRequest) {\r\n        xmlhttp = new XMLHttpRequest();\r\n    } else {\r\n        xmlhttp = new ActiveXObject(\"Microsoft.XMLHTTP\");\r\n    }\r\n    xmlhttp.onreadystatechange = function () {\r\n        if (xmlhttp.readyState == 4 && xmlhttp.status == 200) {\r\n            cb(xmlhttp.responseText);\r\n        } else {\r\n            cb(null);\r\n        }\r\n    }\r\n    xmlhttp.open(\"GET\", url, true);\r\n    xmlhttp.send();\r\n}\r\n\r\n\r\nfunction isMobile(){\r\n    if(document.documentElement.clientHeight > document.documentElement.clientWidth){\r\n        document.getElementsByClassName('sear-box')[0].style.width='220px'\r\n        document.getElementsByTagName('input')[0].style.width='140px'\r\n        document.getElementsByTagName('input')[1].style.width='50px'\r\n        document.querySelectorAll('.card').forEach(c=>{\r\n            c.style.width='100%'\r\n        })\r\n        document.querySelectorAll('.ifra').forEach(c=>{\r\n            c.style.width='280px'\r\n            c.style.height='200px'\r\n        })\r\n\r\n    }\r\n}\r\n"]}