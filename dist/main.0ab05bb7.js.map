{"version":3,"sources":["script/main.js"],"names":["window","onload","clamp","x","min","max","Math","document","documentElement","clientHeight","clientWidth","getElementsByTagName","style","width","start","Date","getTime","onscroll","e","cards","Array","from","querySelectorAll","forEach","card","i","target","scrollTop","offsetHeight","now","tmp","ajax","data","regex","createEle","getElementById","innerHTML","exec","textContent","resizeZ","scale","opacity","transform","zIndex","setTimeout","onclick","searchAc","keyword","value","location","href","index","div","createElement","className","id","parseInt","random","list","getElementsByClassName","appendChild","url","cb","xmlhttp","XMLHttpRequest","ActiveXObject","onreadystatechange","readyState","status","responseText","open","send"],"mappings":"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","file":"main.0ab05bb7.js","sourceRoot":"..","sourcesContent":["window.onload = function () {\r\n    const clamp = (x, min, max) => Math.max(min, Math.min(x, max));\r\n\r\n\r\n    if(document.documentElement.clientHeight > document.documentElement.clientWidth){\r\n        document.getElementsByTagName('input')[0].style.width='200px'\r\n        document.getElementsByTagName('input')[1].style.width='50px'\r\n    }\r\n    let start = new Date().getTime()\r\n    window.onscroll = (e) => {\r\n        const cards = Array.from(document.querySelectorAll(\".card\"));\r\n        cards.forEach((card, i) => {\r\n            //节流\r\n            if (document.documentElement.clientHeight + e.target.documentElement.scrollTop >= document.documentElement.offsetHeight-600) {\r\n                if (new Date().getTime() > start + 1000 && now > 0) {\r\n                    let tmp = now + 1;\r\n                    now = -9999999999999;\r\n                    ajax(`https://amdog.github.io/page/${tmp}.html`, (data) => {\r\n                        if (!!data) {\r\n                            now = tmp\r\n                            let regex = /.*?<title>(.*?)<\\/title>.*?/\r\n                            createEle(tmp)\r\n                            let e = document.getElementById(`t${tmp}`)\r\n                            e.innerHTML = regex.exec(data)[0];\r\n                            e.innerHTML = e.textContent;\r\n                        }\r\n                    })\r\n                    start = new Date().getTime()\r\n                }\r\n            }\r\n            resizeZ(card,i,e)\r\n        });\r\n    }\r\n\r\n    function resizeZ(card,i,e){\r\n            const scale = clamp((400 + 300 * i - e.target.documentElement.scrollTop) / 300, 0, 1);\r\n            const opacity = clamp((400 + 300 * i - e.target.documentElement.scrollTop) / 300, 0, 1);\r\n            card.style.transform = `scale(${scale})`;\r\n            card.style.opacity = `${opacity}`;\r\n            card.style.zIndex = `${i}`\r\n    }\r\n\r\n    setTimeout(() => {\r\n        for (let i = 1; i <= 5; i++) {\r\n            ajax(`https://amdog.github.io/page/${i}.html`, (data) => {\r\n                if (!!data) {\r\n                    let regex = /.*?<title>(.*?)<\\/title>.*?/\r\n                    createEle(i)\r\n                    let e = document.getElementById(`t${i}`)\r\n                    e.innerHTML = regex.exec(data)[0];\r\n                    e.innerHTML = e.textContent\r\n                }\r\n            })\r\n        }\r\n    }, 500);\r\n}\r\n\r\nlet now = 5\r\n\r\ndocument.getElementsByTagName('input')[1].onclick=function searchAc() {\r\n    let keyword = document.getElementsByTagName('input')[0].value\r\n    window.location.href='https://github.com/amdog/amdog.github.io/search?q='+keyword\r\n}\r\n\r\n\r\nfunction createEle(index) {\r\n    let div = document.createElement('div')\r\n    div.className = 'card';\r\n    div.id = `c${index}`\r\n    div.innerHTML = `<div class=\"dsc\">\r\n    <img src=\"./img/date.svg\" alt=\"\">${parseInt(Math.random()*12%12)}-${parseInt(Math.random()*28%28)}\r\n    <img src=\"./img/eay.svg\" alt=\"\">${parseInt(Math.random()*1000)}\r\n</div>\r\n<div class=\"main\">\r\n    <div class=\"ifra\">\r\n        <iframe  scrolling='no' id='i${index}' src='https://amdog.github.io/page/${index}.html' frameborder=\"0\"></iframe>\r\n    </div>\r\n    <a href='https://amdog.github.io/page/${index}.html'> <div class=\"title\" id='t${index}'></div></a>\r\n</div>`\r\n    let list = document.getElementsByClassName('list')[0]\r\n    list.appendChild(div)\r\n}\r\n\r\nfunction ajax(url, cb) {\r\n    let xmlhttp;\r\n    if (window.XMLHttpRequest) {\r\n        xmlhttp = new XMLHttpRequest();\r\n    } else {\r\n        xmlhttp = new ActiveXObject(\"Microsoft.XMLHTTP\");\r\n    }\r\n    xmlhttp.onreadystatechange = function () {\r\n        if (xmlhttp.readyState == 4 && xmlhttp.status == 200) {\r\n            cb(xmlhttp.responseText);\r\n        } else {\r\n            cb(null);\r\n        }\r\n    }\r\n    xmlhttp.open(\"GET\", url, true);\r\n    xmlhttp.send();\r\n}"]}